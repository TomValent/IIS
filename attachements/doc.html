<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Studentské turnaje</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Tomá¹ Valent <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xvalen27@stud.fit.vutbr.cz">xvalen27@stud.fit.vutbr.cz</a> -
		Prihlasovanie; registrácia; vytváranie, editátia a mazanie a ¹tartovanie turnajov; u¾ivateµský profil a ¹tatistiky hráèa; dokumentácia
	</dd>
	<dd>Adam Ru¾a <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xruzaa00@stud.fit.vutbr.cz">xruzaa00@stud.fit.vutbr.cz</a> -
		REST API; controllere; implentácia vytvárania zápasov a interné veci okolo priebehu turnaja; routovanie; dark mode; úpravy aby projekt fungoval na Eve
	</dd>
  <dd>Magdaléna Bellayová <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xbella01@stud.fit.vutbr.cz">xbella01@stud.fit.vutbr.cz</a> -
		Vytváranie, mazanie a edtácia tímov; team-controller; prezentaèné video; beta testing
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="https://www.stud.fit.vutbr.cz/~xruzaa00/IIS">https://www.stud.fit.vutbr.cz/~xruzaa00/IIS</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<p>Existujúci zástupci <strong>v¹etkých rolí u¾ívateµovs</strong>.</p>
<table>
<tbody><tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin</td><td>admin</td><td>Administrátor</td></tr>
<tr><td>test</td><td>12345678</td><td>Be¾ný u¾ívateµ</td></tr>
</tbody></table>
Neregistrovaný u¾ívateµ má vlastnú mo¾nos» prihlásenia sa ako hos».

<h3>Video</h3>

<a href="https://drive.google.com/drive/folders/1IhxCngXtSdT39fUOsZnF_CDc2zBjZ4_q">Link na video</a>

<h2>Implementace</h2>

	V tomto projekte máme niekoµko controllerov vyu¾ívajúcich REST API na implementovanie jednotlivých prípadov pou¾itia.
	<ul>
		<li>base-controller.php</li>
		<li>match-controller.php</li>
		<li>team-controller.php</li>
		<li>tournament-controller.php</li>
		<li>user-controller.php</li>
	</ul>
	Ako ich názvy vypovedajú, ka¾dý obstaráva urèitú èas» informaèného systému a prípady pou¾itia podµa zadania. Base-controller implementuje metódy controlleru a dedia z neho v¹etky ostatné controllery. Menu vpravo hore je implementované pomocou routera v <i>router.php</i>. V adresári <i>scripts</i> je skript na vytvorenie adminského úètu <b>seed.php</b>.
	Administrátorské práca sú realizované pomocou bool flagu v tabuµke u¾ívateµov. Medzi neprihlásenými a prihlásenými u¾ívateµmi sa rozli¹uje na základe superglobálnej prememennej a jej obsahu. Profil u¾ívateµa je prístupný cez zoznam hráèov a ka¾dý prihlásený u¾ívateµ sa vie na svoj profil prekliknú» kliknutím na svoje pou¾ívateµské meno vpravo hore, kde ho následne vie editova» a zmaza». Pre spravovanie svojich turnajov a tímov sa ukladá v databáze ich zakladateµ/tvorca, ktorý potom zároveò s adminom má právo daný turnaj/tím spravova».
<p>

<h3>Databáze</h3>

<img src="relation_scheme.png" alt="relation_scheme.png" width="1200px" height="600px">

<h2>Instalace</h2>

<p>Projekt bol vyvýjaný na verzii PHP 8.1. na OS Linux (Ubuntu, Endeavour). Pre prácu s databázou sme vyu¾ívali MySQL a balíèky Xampp a PHPMyAdmin.</p>
<p>V PHPMyAdmin sme si ka¾dý vytvorili lokálne databázu a inicializval ju pomocou prilo¾eného SQL skriptu v <i>/attachements</i> v PHPMyAdmin v sekcii SQL. Po vytvorení databáze sa mô¾eme k nej pripoji» pomocou <b>.env</b>. V zlo¾ke <i>/IIS-project</i> sa nachádza ¹truktúra ná¹ho .env súboru. Ten treba upravi» podµa nasledujúceho popisu. </br>Do <b>MYSQL_DSN</b> pridáme host napr. "127.0.0.1", názov databáze do "dbname" a do port treba lo¾i» cestu k mysql.sock, napr. /opt/lampp/var/mysql/mysql.sock</br>Ïalej do <b>MYSQL_USER</b> zadáme meno a do <b>MYSQL_PASS</b> heslo na prihlásenie sa do databáze.</p>
<p>Teraz len staèí v zlo¾ke <b>/IIS-project/scripts</b> spusti» skript <b>install.sh</b> na nain¹talovanie composera a spustenie php serveru zo správnych zlo¾iek. Teraz je php server spustení a dá sa k nemu pristúpi» takto "http://127.0.0.1:8000". Server sa spú¹»a z WWW zlo¾ky pomocou <u>php -S 127.0.0.1:8000</u> a ukonèuje sa pomocou CTRL+C.</p>

<h2>Známé problémy</h2>

	<ul>
		<li>Pri zmazaní obidvoch tímov z niektorého zápasu v tabuµke Matches aj v ¹tatistikách zostane záznam, kde obidva tímy sú NULL</li>
	</ul>

</body></html>
